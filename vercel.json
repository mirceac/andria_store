{
        "version": 2,
        "builds": [
          {
            "src": "dist/index.js",
            "use": "@vercel/node",
            "config": {
              "includeFiles": ["dist/**"],
              "baseUrl": "./dist"
            }
          },
          {
            "src": "package.json",
            "use": "@vercel/static-build",
            "config": {
              "buildCommand": "npm run build",
              "outputDirectory": "dist/public"
            }
          }
        ],
        "routes": [
          {
            "src": "/api/webhook",
            "headers": {
              "Access-Control-Allow-Origin": "*",
              "Access-Control-Allow-Methods": "POST,OPTIONS",
              "Access-Control-Allow-Headers": "X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version, stripe-signature"
            },
            "dest": "dist/index.js"
          },
          {
            "src": "/api/(register|login|logout|user|products|orders|admin/orders|admin/products|create-checkout-session)",
            "headers": {
              "Access-Control-Allow-Origin": "*",
              "Access-Control-Allow-Methods": "GET,POST,PUT,PATCH,DELETE,OPTIONS",
              "Access-Control-Allow-Headers": "X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version",
              "Access-Control-Allow-Credentials": "true"
            },
            "dest": "dist/index.js"
          },
          {
            "src": "/api/(.*)",
            "dest": "dist/index.js"
          },
          {
            "handle": "filesystem"
          },
          {
            "src": "/(.*\\.[a-z0-9]+$)",
            "dest": "/dist/public/$1"
          },
          {
            "src": "/(.*)",
            "dest": "/dist/public/index.html"
          }
        ],
        "env": {
          "NODE_ENV": "production"
        }
      }