{
        "version": 2,
        "builds": [
          {
            "src": "dist/index.js",
            "use": "@vercel/node"
          },
          {
            "src": "package.json",
            "use": "@vercel/static-build",
            "config": {
              "buildCommand": "npm run build",
              "outputDirectory": "dist/public"
            }
          }
        ],
        "routes": [
          {
            "src": "/api/webhook",
            "methods": ["POST", "OPTIONS"],
            "dest": "dist/index.js"
          },
          {
            "src": "/api/(products|orders|admin/orders|admin/products|create-admin|create-checkout-session)(.*)",
            "methods": ["GET", "POST", "PATCH", "DELETE", "OPTIONS"],
            "headers": {
              "Access-Control-Allow-Origin": "*",
              "Access-Control-Allow-Methods": "GET,POST,PATCH,DELETE,OPTIONS",
              "Access-Control-Allow-Headers": "X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version",
              "Access-Control-Allow-Credentials": "true"
            },
            "dest": "dist/index.js"
          },
          {
            "src": "/auth/(.*)",
            "dest": "dist/index.js"
          },
          {
            "handle": "filesystem"
          },
          {
            "src": "/(.*\\.[a-z0-9]+$)",
            "dest": "/dist/public/$1"
          },
          {
            "src": "/(.*)",
            "dest": "/dist/public/index.html"
          }
        ]
      }